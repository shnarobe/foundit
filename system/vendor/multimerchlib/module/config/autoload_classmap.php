<?php

$autoGeneratedDir = realpath(__DIR__ . '/../autogenerated');
$extendedDir = realpath(__DIR__ . '/../extended');

$OC_VERSION = require __DIR__ . '/oc_version.php';

$OC_VERSION_SUFFIX = '-' . strtolower($OC_VERSION);

//$OC_VERSION_SUFFIX = '';

$map = array(
    // controller
    'controller' => $extendedDir . '/system/engine/controller' . $OC_VERSION_SUFFIX . '.php',
    'oc_controller' => $autoGeneratedDir . '/system/engine/oc_controller' . $OC_VERSION_SUFFIX . '.php', // use autogenerate.php to create automatically

    // loader
    'loader' => $extendedDir . '/system/engine/loader' . $OC_VERSION_SUFFIX . '.php',
    'oc_loader' => $autoGeneratedDir . '/system/engine/oc_loader' . $OC_VERSION_SUFFIX . '.php', // use autogenerate.php to create automatically
);

if ($OC_VERSION < 2.2) {
    // customer
    $map['customer'] = $extendedDir . '/system/library/customer' . $OC_VERSION_SUFFIX . '.php';
    $map['oc_customer'] = $autoGeneratedDir . '/system/library/customer' . $OC_VERSION_SUFFIX . '.php';

    // language
    $map['language'] = $extendedDir . '/system/library/language' . $OC_VERSION_SUFFIX . '.php';
    $map['oc_language'] = $autoGeneratedDir . '/system/library/language' . $OC_VERSION_SUFFIX . '.php';
} else {
    // customer library
    $map['cart\customer'] = $extendedDir . '/system/library/cart/customer' . $OC_VERSION_SUFFIX . '.php';
    $map['cart\oc_customer'] = $autoGeneratedDir . '/system/library/cart/oc_customer' . $OC_VERSION_SUFFIX . '.php';

    // currency
    $map['cart\currency'] = $extendedDir . '/system/library/cart/currency' . $OC_VERSION_SUFFIX . '.php';
    $map['cart\oc_currency'] = $autoGeneratedDir . '/system/library/cart/oc_currency' . $OC_VERSION_SUFFIX . '.php';

    // template renderer
    if($OC_VERSION >= 2.3) {
        $map['template\php'] = $extendedDir . '/system/library/template/php' . $OC_VERSION_SUFFIX . '.php';
        $map['template\oc_php'] = $autoGeneratedDir . '/system/library/template/oc_php' . $OC_VERSION_SUFFIX . '.php';
    } else {
        $map['template\basic'] = $extendedDir . '/system/library/template/basic' . $OC_VERSION_SUFFIX . '.php';
        $map['template\oc_basic'] = $autoGeneratedDir . '/system/library/template/oc_basic' . $OC_VERSION_SUFFIX . '.php';
    }
}

return $map;
